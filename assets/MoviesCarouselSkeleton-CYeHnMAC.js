import{r as l,a as b,j as e}from"./index-BFnxVxci.js";import{u as g,a as f,M as v,b as x}from"./MovieCardSkeleton-Dkd7B8hp.js";const N=({title:n,movies:t})=>{const[a,o]=l.useState(!1),c=l.useRef(null),{isFavorite:d,toggleFavorite:m}=g(),{isWatchLater:h,toggleWatchLater:u}=f(),{getAverageRating:p}=b();return l.useEffect(()=>{const s=c.current;if(!("IntersectionObserver"in window)){o(!0);return}if(s){const r=new IntersectionObserver(([i])=>{i.isIntersecting&&(o(!0),r.unobserve(s))},{rootMargin:"0px 0px 200px 0px",threshold:.01});return r.observe(s),()=>{s&&r.unobserve(s)}}},[]),t.length===0?null:e.jsxs("section",{ref:c,className:`mb-12 transition-all duration-700 ease-out transform ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 border-r-4 border-cyan-400 pr-4",children:n}),e.jsx("div",{className:"relative carousel-container",children:e.jsx("div",{className:"flex space-x-3 sm:space-x-4 md:space-x-6 overflow-x-auto pb-4 -mx-4 px-4 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",children:a?t.map(s=>{const{average:r,count:i}=p(s.id);return e.jsx("div",{className:"flex-shrink-0 w-40 sm:w-48 md:w-56 lg:w-64",children:e.jsx(v,{movie:s,isFavorite:d(s.id),isWatchLater:h(s.id),averageRating:r,ratingCount:i,onToggleFavorite:m,onToggleWatchLater:u})},s.id)}):[...Array(Math.min(t.length,5))].map((s,r)=>e.jsx("div",{className:"flex-shrink-0 w-40 sm:w-48 md:w-56 lg:w-64",children:e.jsx(x,{})},r))})})]})},y=({title:n="جاري التحميل..."})=>e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 border-r-4 border-cyan-400 pr-4",children:n}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex space-x-3 sm:space-x-4 md:space-x-6 overflow-x-hidden pb-4 -mx-4 px-4",children:[...Array(5)].map((t,a)=>e.jsx("div",{className:"flex-shrink-0 w-40 sm:w-48 md:w-56 lg:w-64",children:e.jsx(x,{})},a))})})]});export{y as M,N as a};
