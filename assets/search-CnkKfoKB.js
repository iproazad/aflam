import{r as u,j as e,L as g}from"./index-Dz8sUt64.js";const b=({movies:l})=>{const[t,a]=u.useState(0);if(u.useEffect(()=>{if(l.length===0)return;const r=setInterval(()=>{a(n=>(n+1)%l.length)},5e3);return()=>clearInterval(r)},[l.length]),l.length===0)return e.jsx("div",{className:"w-full h-[60vh] bg-gray-800 flex items-center justify-center rounded-lg mb-12",children:e.jsx("p",{className:"text-2xl",children:"جاري تحميل الأفلام..."})});const s=l[t];return e.jsxs("div",{className:"relative w-full h-[60vh] rounded-lg overflow-hidden mb-12 shadow-2xl shadow-black/30",children:[l.map((r,n)=>e.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${n===t?"opacity-100":"opacity-0"}`,children:[e.jsx("img",{src:r.backdropUrl,alt:r.title,className:`w-full h-full object-cover ${n===t?"animate-ken-burns":""}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/90 via-black/60 to-transparent"})]},r.id)),e.jsx("div",{className:"relative z-10 h-full flex items-center p-6 md:p-12 lg:p-16",children:e.jsxs("div",{className:"w-full md:w-2/3 lg:w-1/2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:[e.jsx("h2",{className:"text-2xl sm:text-4xl md:text-6xl font-black text-white leading-tight mb-4 animate-fade-in-down",children:s.title}),e.jsx("p",{className:"text-gray-200 text-sm sm:text-base md:text-lg mb-6 line-clamp-3 animate-fade-in-up",children:s.description}),e.jsx(g,{to:`/movie/${s.id}`,className:"inline-block bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold text-base px-6 py-2.5 md:text-xl md:px-10 md:py-3.5 rounded-lg hover:from-cyan-600 hover:to-blue-600 transition-all duration-300 transform hover:scale-105 shadow-lg shadow-cyan-500/20",children:"شاهد الآن"})]})}),e.jsx("div",{className:"absolute bottom-4 right-4 flex space-x-2 z-10",children:l.map((r,n)=>e.jsx("button",{onClick:()=>a(n),className:`h-2.5 rounded-full transition-all duration-300 ${t===n?"w-6 bg-cyan-400":"w-2.5 bg-gray-500/70 hover:bg-gray-500"}`,"aria-label":`Go to slide ${n+1}`},n))})]})},p=({years:l,selectedYear:t,onYearChange:a})=>e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("label",{htmlFor:"year-filter",className:"w-32 text-right font-bold text-sm text-white flex-shrink-0",children:"سنة الإنتاج:"}),e.jsxs("select",{id:"year-filter",value:t,onChange:s=>a(s.target.value),className:"flex-grow bg-gray-700 text-white py-2 px-3 text-sm rounded-md focus:ring-2 focus:ring-cyan-500 border-none outline-none cursor-pointer","aria-label":"Filter movies by year",children:[e.jsx("option",{value:"all",children:"كل السنوات"}),l.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),w=({searchQuery:l,onSearchChange:t})=>e.jsxs("div",{className:"relative w-full md:w-auto md:flex-grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:l,onChange:a=>t(a.target.value),placeholder:"ابحث عن فيلم...",className:"w-full bg-gray-700 text-white p-2 pl-10 rounded-md focus:ring-2 focus:ring-cyan-500 border-none outline-none","aria-label":"Search for movies by title"})]}),v=({genres:l,selectedGenres:t,onToggleGenre:a,onClearGenres:s})=>{const[r,n]=u.useState(!1),i=u.useRef(null);u.useEffect(()=>{const c=h=>{i.current&&!i.current.contains(h.target)&&n(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const d=t.length>0?`الفئات (${t.length})`:"كل الفئات",o=()=>{s()};return e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("label",{className:"w-32 text-right font-bold text-sm text-white flex-shrink-0",children:"الفئات:"}),e.jsxs("div",{className:"relative flex-grow",ref:i,children:[e.jsxs("button",{onClick:()=>n(!r),className:"w-full bg-gray-700/50 text-white py-2 px-3 text-sm rounded-md focus:ring-2 focus:ring-cyan-500 border border-gray-600 outline-none cursor-pointer text-right flex justify-between items-center","aria-haspopup":"true","aria-expanded":r,type:"button",children:[e.jsx("span",{children:d}),e.jsx("svg",{className:`h-5 w-5 transition-transform duration-200 ${r?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&e.jsxs("div",{className:"absolute left-0 mt-2 w-64 bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-md shadow-lg z-20 animate-fade-in-up-fast",children:[e.jsx("div",{className:"p-2 border-b border-gray-700",children:e.jsx("button",{onClick:o,disabled:t.length===0,className:"w-full text-center text-sm text-white bg-red-600/80 hover:bg-red-600/100 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-md px-3 py-1.5 transition-colors",children:"مسح الكل"})}),e.jsx("ul",{className:"max-h-60 overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:l.map(c=>e.jsx("li",{children:e.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-cyan-500/10 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:t.includes(c),onChange:()=>a(c),className:"h-4 w-4 text-cyan-500 bg-gray-900 border-gray-600 rounded focus:ring-cyan-600 focus:ring-offset-gray-800 cursor-pointer"}),e.jsx("span",{className:"text-white select-none",children:c})]})},c))})]})]})]})},x=[{value:"createdAt_desc",label:"الأحدث إضافة"},{value:"createdAt_asc",label:"الأقدم إضافة"},{value:"rating_desc",label:"الأعلى تقييماً"},{value:"rating_asc",label:"الأقل تقييماً"},{value:"year_desc",label:"السنة (الأحدث)"},{value:"year_asc",label:"السنة (الأقدم)"}],y=({sortOrder:l,onSortChange:t})=>{var d;const[a,s]=u.useState(!1),r=u.useRef(null);u.useEffect(()=>{const o=c=>{r.current&&!r.current.contains(c.target)&&s(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const n=((d=x.find(o=>o.value===l))==null?void 0:d.label)||"...",i=o=>{t(o),s(!1)};return e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("label",{className:"w-32 text-right font-bold text-sm text-white flex-shrink-0",children:"ترتيب حسب:"}),e.jsxs("div",{className:"relative flex-grow",ref:r,children:[e.jsxs("button",{onClick:()=>s(!a),className:"w-full bg-gray-700/50 text-white py-2 px-3 text-sm rounded-md focus:ring-2 focus:ring-cyan-500 border border-gray-600 outline-none cursor-pointer text-right flex justify-between items-center","aria-haspopup":"true","aria-expanded":a,type:"button",children:[e.jsx("span",{children:n}),e.jsx("svg",{className:`h-5 w-5 transition-transform duration-200 ${a?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),a&&e.jsx("div",{className:"absolute left-0 mt-2 w-full bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-md shadow-lg z-20 animate-fade-in-up-fast",children:e.jsx("ul",{className:"p-1",children:x.map(o=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>i(o.value),className:`w-full text-right p-2 text-sm rounded-md flex items-center justify-between transition-colors ${l===o.value?"bg-cyan-500/20 text-cyan-300":"text-white hover:bg-cyan-500/10"}`,children:[e.jsx("span",{children:o.label}),l===o.value&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]})},o.value))})})]})]})},j=()=>e.jsx("div",{className:"relative w-full h-[60vh] rounded-lg overflow-hidden mb-12 shadow-2xl bg-gray-800 animate-pulse",children:e.jsx("div",{className:"relative z-10 h-full flex items-center p-6 md:p-12 lg:p-16",children:e.jsxs("div",{className:"w-full md:w-2/3 lg:w-1/2 space-y-4",children:[e.jsx("div",{className:"h-10 md:h-16 bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-5 bg-gray-700 rounded w-full"}),e.jsx("div",{className:"h-5 bg-gray-700 rounded w-5/6"}),e.jsx("div",{className:"h-12 bg-cyan-500/50 rounded w-48 mt-4"})]})})}),N=({tags:l,selectedTags:t,onToggleTag:a,onClearTags:s})=>{const[r,n]=u.useState(!1),i=u.useRef(null);u.useEffect(()=>{const c=h=>{i.current&&!i.current.contains(h.target)&&n(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const d=t.length>0?`الكلمات (${t.length})`:"كل الكلمات",o=()=>{s()};return e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("label",{className:"w-32 text-right font-bold text-sm text-white flex-shrink-0",children:"الكلمات:"}),e.jsxs("div",{className:"relative flex-grow",ref:i,children:[e.jsxs("button",{onClick:()=>n(!r),className:"w-full bg-gray-700/50 text-white py-2 px-3 text-sm rounded-md focus:ring-2 focus:ring-cyan-500 border border-gray-600 outline-none cursor-pointer text-right flex justify-between items-center","aria-haspopup":"true","aria-expanded":r,type:"button",children:[e.jsx("span",{children:d}),e.jsx("svg",{className:`h-5 w-5 transition-transform duration-200 ${r?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&e.jsxs("div",{className:"absolute left-0 mt-2 w-64 bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-md shadow-lg z-20 animate-fade-in-up-fast",children:[e.jsx("div",{className:"p-2 border-b border-gray-700",children:e.jsx("button",{onClick:o,disabled:t.length===0,className:"w-full text-center text-sm text-white bg-red-600/80 hover:bg-red-600/100 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-md px-3 py-1.5 transition-colors",children:"مسح الكل"})}),e.jsx("ul",{className:"max-h-60 overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:l.map(c=>e.jsx("li",{children:e.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-cyan-500/10 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:t.includes(c),onChange:()=>a(c),className:"h-4 w-4 text-cyan-500 bg-gray-900 border-gray-600 rounded focus:ring-cyan-600 focus:ring-offset-gray-800 cursor-pointer"}),e.jsx("span",{className:"text-white select-none",children:c})]})},c))})]})]})]})},m=(l,t)=>{if(l.length<t.length)return m(t,l);if(t.length===0)return l.length;let a=Array.from({length:t.length+1},(s,r)=>r);for(let s=0;s<l.length;s++){let r=[s+1];for(let n=0;n<t.length;n++){const i=a[n+1]+1,d=r[n]+1,o=a[n]+(l[s]===t[n]?0:1);r.push(Math.min(i,d,o))}a=r}return a[a.length-1]},k=(l,t)=>{const a=l.toLowerCase().trim(),s=t.toLowerCase().trim();if(!a||s.includes(a))return!0;const r=a.split(" ").filter(i=>i.length>0),n=s.split(" ").filter(i=>i.length>0);return r.every(i=>{let d=0;return i.length<5?d=1:i.length<10?d=2:d=3,n.some(o=>m(i,o)<=d)})};export{v as G,j as H,w as S,N as T,p as Y,b as a,y as b,k as f};
